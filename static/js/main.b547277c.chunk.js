(this.webpackJsonpff=this.webpackJsonpff||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),o=n(6),c=n.n(o),i=n(3),r=n(7),l=n(19),d=n(2),u=n(17),p=n.n(u),m=p.a.mark(h),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.floor(Math.random()*(t-e)+e)};function h(e){var t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e;case 1:return n.next=4,t++;case 4:n.next=1;break;case 6:case"end":return n.stop()}}),m)}var b=n.p+"static/media/iron_man_body.61f89ae4.jpg",f=n.p+"static/media/avatar_iron.c27f03d1.jpg",O=n.p+"static/media/groot.94297dd0.png",v=n.p+"static/media/groot_body.bf82b906.jpg",_=h(1),g={posts:[{id:_.next().value,name:"Tony Stark",nickname:"@ironManBest",avatar:f,content:"Give me a scotch. I'm starving.",imageContent:b,date:(new Date).toLocaleDateString(),likes:j(10,9e3),comments:j(5,5e3),share:j(20,6e3),isliked:!1,isShared:!1,isComment:!1},{id:_.next().value,name:"Groot",nickname:"@i_am_groot",avatar:O,content:"I am Groot",imageContent:v,date:(new Date).toLocaleDateString(),likes:j(10,9e3),comments:j(5,5e3),share:j(20,6e3),isliked:!1,isShared:!1,isComment:!1}]},x="ADD_POST",k="ADD_lIKE",y="LEAVE_COMMENT",N="TO_SHARE";var C=Object(r.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var n=document.getElementById(t.payload.id),a=n.querySelector(".post__footer--likes"),s=e.posts,o=[];return a.classList.toggle("unlike"),a.classList.toggle("liked"),s.forEach((function(e){e.id===t.payload.id?(e.isliked?e.likes--:e.likes++,e.isliked=!e.isliked,o.push(e)):o.push(e)})),Object(d.a)(Object(d.a)({},e),{},{posts:o});case y:var c=[],i=e.posts;return i.forEach((function(e){e.id===t.payload.id?(e.isComment?e.comments--:e.comments++,e.isComment=!e.isComment,c.push(e)):c.push(e)})),Object(d.a)(Object(d.a)({},e),{},{posts:c});case N:var r=[],u=e.posts;return u.forEach((function(e){e.id===t.payload.id?(e.isShared?e.share--:e.share++,e.isShared=!e.isShared,r.push(e)):r.push(e)})),Object(d.a)(Object(d.a)({},e),{},{posts:r});case x:var p=t.payload.newPost,m=p.name,h=p.content,b=p.imageContent,v={id:_.next().value,name:m,nickname:"Tony Stark"===m?"@ironManBest":"@i_am_groot",avatar:"Tony Stark"===m?f:O,content:h,imageContent:b,date:(new Date).toLocaleDateString(),likes:j(10,9e3),comments:j(5,5e3),share:j(20,6e3),isliked:!1,isShared:!1,isComment:!1};return Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(l.a)(e.posts),[v])});default:return e}})),S=n(9),w=n(10),E=n(12),D=n(11),A=n(5),M=(n(32),{addPost:function(e){return{type:x,payload:{newPost:e}}}}),P=Object(i.b)((function(e){return console.log(e),{posts:e.posts}}),M)((function(e){var t=Object(s.useState)(""),n=Object(A.a)(t,2),o=n[0],c=n[1],i=Object(s.useState)(""),r=Object(A.a)(i,2),l=r[0],d=r[1],u=Object(s.useState)(""),p=Object(A.a)(u,2),m=p[0],j=p[1],h=Object(s.useState)(!0),b=Object(A.a)(h,2),f=b[0],O=b[1],v=e.posts.map((function(e){return e.name})),_=Array.from(new Set(v)),g=function(t){if(t.preventDefault(),o&&l){var n={name:m,imageContent:l,content:o};O(!0),e.addPost(n),c(""),d(""),j("")}else O(!1)};return Object(s.useEffect)((function(){c(o),d(l),j(m)}),[o,l,m]),Object(a.jsxs)("div",{className:"block-form",children:[Object(a.jsx)("h2",{className:"form-header",children:"Add Post"}),Object(a.jsxs)("form",{noValidate:!0,className:"form",children:[Object(a.jsx)("input",{className:"form__input",onChange:function(e){return function(e){return c(e.target.value)}(e)},type:"text",value:o,placeholder:"What do you want to say?"}),Object(a.jsx)("input",{className:"form__input",onChange:function(e){return function(e){return d(e.target.value)}(e)},type:"text",value:l,placeholder:"Enter link for image"}),Object(a.jsxs)("select",{onChange:function(e){return function(e){return j(e.target.value)}(e)},className:"form__input",children:[Object(a.jsx)("option",{value:"none",disabled:!0,children:"Choose author"}),_.map((function(e){return Object(a.jsx)("option",{value:e,children:e})}))]}),Object(a.jsx)("input",{type:"submit",value:"Make post",className:"form__input form__input--btn",onClick:function(e){return g(e)}})]}),!f&&Object(a.jsx)("p",{className:"form__warning",children:"Fill all fields"})]})})),L=(n(33),{liked:function(e){return{type:k,payload:{id:e}}},leaveComments:function(e){return{type:y,payload:{id:e}}},shared:function(e){return{type:N,payload:{id:e}}}}),T=Object(i.b)(null,L)((function(e){var t=e.id,n=e.name,s=e.avatar,o=e.verifiedAccount,c=e.nickname,i=e.date,r=e.content,l=e.imageContent,d=e.comments,u=e.likes,p=e.share,m=e.liked,j=e.leaveComments,h=e.shared;return Object(a.jsxs)("div",{className:"post",id:t,children:[Object(a.jsxs)("div",{className:"post__heading",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{alt:n,src:s,className:"post__heading--photo"})}),Object(a.jsxs)("div",{className:"post__heading--info",children:[Object(a.jsxs)("div",{className:"post__heading--personal-info",children:[Object(a.jsx)("p",{className:o?"post__heading--personal-info-check":"",children:n}),Object(a.jsx)("p",{className:"nickname",children:c}),Object(a.jsx)("p",{className:"date",children:i})]}),Object(a.jsx)("div",{className:"post__heading--content",children:Object(a.jsx)("p",{children:r})})]})]}),Object(a.jsx)("div",{className:"post__body",children:Object(a.jsx)("img",{src:l,alt:"Post",className:"post__body--content"})}),Object(a.jsxs)("div",{className:"post__footer",children:[Object(a.jsx)("p",{className:"post__footer--comments post-action",onClick:function(){return j(t)},children:d}),Object(a.jsx)("p",{className:"post__footer--likes unlike post-action",onClick:function(){return m(t)},children:u}),Object(a.jsx)("p",{className:"post__footer--share post-action",onClick:function(){return h(t)},children:p}),Object(a.jsx)("p",{className:"post__footer--cloud post-action"})]})]})})),I=function(e){Object(E.a)(n,e);var t=Object(D.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(){var e=this.props.posts;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"posts--all",children:e.map((function(e){return Object(a.jsx)(T,Object(d.a)({},e))}))})})}}]),n}(s.Component),B=Object(i.b)((function(e){return{posts:e.posts}}))(I),G=function(e){Object(E.a)(n,e);var t=Object(D.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)(B,{}),Object(a.jsx)(P,{})]})}}]),n}(s.Component);c.a.render(Object(a.jsx)(i.a,{store:C,children:Object(a.jsx)(G,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.b547277c.chunk.js.map